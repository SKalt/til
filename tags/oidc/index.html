<!doctype html><html><head><meta charset=utf-8><title>Today I Learned</title>
<link rel=alternate type=application/rss+xml href=https://skalt.github.io/til/tags/oidc/index.xml title="Today I Learned"><link rel=stylesheet href=https://skalt.github.io/til/critical.min.31ad46bcf2679dac23a81f48b7ead9b8f05c1c77fe86709a56fcce62f2ee6107.css><style>@import "https://skalt.github.io/til/syntax-light.min.cf596d35510d6f4d08d1eec88d3d2374b3ba785ef2c68eb605930d31b93576a5.css";@media(prefers-color-scheme:dark){@import "https://skalt.github.io/til/syntax-dark.min.aa68da46c4e748d1db4b8300bf7e282aaa0befd767ada0dcc34734e9ac4e0d51.css"}</style><script src=https://skalt.github.io/til/copy_on_click.3e911aeaa98e4d249246dac78aeae0701f095f2f31738c7f930a823f012b4c2b.js integrity="sha256-PpEa6qmOTSSSRtrHiurgcB8JXy8xc4x/kwqCPwErTCs=" defer></script></head><body><header><h1><a href=https://skalt.github.io/til/>Today I Learned</a></h1><nav><a href=https://skalt.github.io/til/tags>tags</a>
<a href=https://skalt.github.io/til/search>search</a>
<a href=https://github.com/skalt/til><img alt=repo title=repo src=https://skalt.github.io/til/icon_gh.512c0dbb601adf88d85cdd317f632f04c74f76183e9dd30c331272d46a59aa13.svg>
</a><a href=https://skalt.github.io/til/tags/oidc/index.xml><img alt=rss title=rss src=https://skalt.github.io/til/icon_rss.2712ea2c7402d63d00f842fbc9dc64b6461012d726f7385aae61b031d1614ebd.svg></a></a></nav></header><main><article><a href=https://skalt.github.io/til/2023/10/20/></a><p>First, that <a href=https://gohugo.io/content-management/diagrams/><code>hugo</code></a> supports <a href=https://github.com/bep/goat><code>goat</code></a> ascii diagrams out-of-the box.</p><p>Second, about OAuth 2.0 authentication + authorization flows:</p><h2 id=authorization-code-flow>Authorization Code Flow</h2><p>From <a href=https://tools.ietf.org/html/rfc6749#section-4.1>https://tools.ietf.org/html/rfc6749#section-4.1</a>
and <a href=https://auth0.com/docs/get-started/authentication-and-authorization-flow/authorization-code-flow>https://auth0.com/docs/get-started/authentication-and-authorization-flow/authorization-code-flow</a></p><div class="goat svg-container"><svg xmlns="http://www.w3.org/2000/svg" font-family="Menlo,Lucida Console,monospace" viewBox="0 0 504 489"><g transform="translate(8,16)"><path d="M8 0H48" fill="none" stroke="currentcolor"/><path d="M96 0h56" fill="none" stroke="currentcolor"/><path d="M280 0H440" fill="none" stroke="currentcolor"/><path d="M464 0h24" fill="none" stroke="currentcolor"/><path d="M8 32H48" fill="none" stroke="currentcolor"/><path d="M96 32h56" fill="none" stroke="currentcolor"/><path d="M280 32H440" fill="none" stroke="currentcolor"/><path d="M464 32h24" fill="none" stroke="currentcolor"/><path d="M32 80h80" fill="none" stroke="currentcolor"/><path d="M128 128H352" fill="none" stroke="currentcolor"/><path d="M32 176H352" fill="none" stroke="currentcolor"/><path d="M32 224H464" fill="none" stroke="currentcolor"/><path d="M368 272h96" fill="none" stroke="currentcolor"/><path d="M128 320H352" fill="none" stroke="currentcolor"/><path d="M128 368H352" fill="none" stroke="currentcolor"/><path d="M128 416H352" fill="none" stroke="currentcolor"/><path d="M8 432H48" fill="none" stroke="currentcolor"/><path d="M96 432h56" fill="none" stroke="currentcolor"/><path d="M280 432H440" fill="none" stroke="currentcolor"/><path d="M464 432h24" fill="none" stroke="currentcolor"/><path d="M8 464H48" fill="none" stroke="currentcolor"/><path d="M96 464h56" fill="none" stroke="currentcolor"/><path d="M280 464H440" fill="none" stroke="currentcolor"/><path d="M464 464h24" fill="none" stroke="currentcolor"/><path d="M8 0V32" fill="none" stroke="currentcolor"/><path d="M8 432v32" fill="none" stroke="currentcolor"/><path d="M24 48V416" fill="none" stroke="currentcolor"/><path d="M48 0V32" fill="none" stroke="currentcolor"/><path d="M48 432v32" fill="none" stroke="currentcolor"/><path d="M96 0V32" fill="none" stroke="currentcolor"/><path d="M96 432v32" fill="none" stroke="currentcolor"/><path d="M120 48V160" fill="none" stroke="currentcolor"/><path d="M120 192v16" fill="none" stroke="currentcolor"/><path d="M120 240V416" fill="none" stroke="currentcolor"/><path d="M152 0V32" fill="none" stroke="currentcolor"/><path d="M152 432v32" fill="none" stroke="currentcolor"/><path d="M280 0V32" fill="none" stroke="currentcolor"/><path d="M280 432v32" fill="none" stroke="currentcolor"/><path d="M360 48V208" fill="none" stroke="currentcolor"/><path d="M360 240V416" fill="none" stroke="currentcolor"/><path d="M448 0V32" fill="none" stroke="currentcolor"/><path d="M448 432v32" fill="none" stroke="currentcolor"/><path d="M456 0V32" fill="none" stroke="currentcolor"/><path d="M456 432v32" fill="none" stroke="currentcolor"/><path d="M472 48V416" fill="none" stroke="currentcolor"/><path d="M488 0V32" fill="none" stroke="currentcolor"/><path d="M488 432v32" fill="none" stroke="currentcolor"/><path d="M24 40v8" fill="none" stroke="currentcolor"/><path d="M24 416v8" fill="none" stroke="currentcolor"/><path d="M120 40v8" fill="none" stroke="currentcolor"/><path d="M120 160v8" fill="none" stroke="currentcolor"/><path d="M120 184v8" fill="none" stroke="currentcolor"/><path d="M120 208v8" fill="none" stroke="currentcolor"/><path d="M120 232v8" fill="none" stroke="currentcolor"/><path d="M120 416v8" fill="none" stroke="currentcolor"/><path d="M360 40v8" fill="none" stroke="currentcolor"/><path d="M360 208v8" fill="none" stroke="currentcolor"/><path d="M360 232v8" fill="none" stroke="currentcolor"/><path d="M360 416v8" fill="none" stroke="currentcolor"/><path d="M472 40v8" fill="none" stroke="currentcolor"/><path d="M472 416v8" fill="none" stroke="currentcolor"/><polygon points="40.000000,176.000000 28.000000,170.399994 28.000000,181.600006" fill="currentcolor" transform="rotate(180.000000, 32.000000, 176.000000)"/><polygon points="120.000000,80.000000 108.000000,74.400002 108.000000,85.599998" fill="currentcolor" transform="rotate(0.000000, 112.000000, 80.000000)"/><polygon points="136.000000,320.000000 124.000000,314.399994 124.000000,325.600006" fill="currentcolor" transform="rotate(180.000000, 128.000000, 320.000000)"/><polygon points="136.000000,416.000000 124.000000,410.399994 124.000000,421.600006" fill="currentcolor" transform="rotate(180.000000, 128.000000, 416.000000)"/><polygon points="360.000000,128.000000 348.000000,122.400002 348.000000,133.600006" fill="currentcolor" transform="rotate(0.000000, 352.000000, 128.000000)"/><polygon points="360.000000,368.000000 348.000000,362.399994 348.000000,373.600006" fill="currentcolor" transform="rotate(0.000000, 352.000000, 368.000000)"/><polygon points="376.000000,272.000000 364.000000,266.399994 364.000000,277.600006" fill="currentcolor" transform="rotate(180.000000, 368.000000, 272.000000)"/><polygon points="472.000000,224.000000 460.000000,218.399994 460.000000,229.600006" fill="currentcolor" transform="rotate(0.000000, 464.000000, 224.000000)"/><path d="M440 0a16 16 0 0116 16" fill="none" stroke="currentcolor"/><path d="M464 0A16 16 0 00448 16" fill="none" stroke="currentcolor"/><path d="M456 16A16 16 0 01440 32" fill="none" stroke="currentcolor"/><path d="M448 16a16 16 0 0016 16" fill="none" stroke="currentcolor"/><path d="M440 432a16 16 0 0116 16" fill="none" stroke="currentcolor"/><path d="M464 432a16 16 0 00-16 16" fill="none" stroke="currentcolor"/><path d="M456 448a16 16 0 01-16 16" fill="none" stroke="currentcolor"/><path d="M448 448a16 16 0 0016 16" fill="none" stroke="currentcolor"/><text text-anchor="middle" x="16" y="20" fill="currentcolor" style="font-size:1em">U</text><text text-anchor="middle" x="16" y="452" fill="currentcolor" style="font-size:1em">U</text><text text-anchor="middle" x="24" y="20" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="24" y="452" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="32" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="32" y="68" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="32" y="452" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="40" y="20" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="40" y="68" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="40" y="452" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="48" y="68" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="56" y="68" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="64" y="68" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="80" y="68" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="88" y="68" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="96" y="68" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="104" y="20" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="104" y="68" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="104" y="452" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="112" y="20" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="112" y="68" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="112" y="452" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="120" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="120" y="452" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="128" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="128" y="116" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="128" y="356" fill="currentcolor" style="font-size:1em">O</text><text text-anchor="middle" x="128" y="452" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="136" y="20" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="136" y="116" fill="currentcolor" style="font-size:1em">O</text><text text-anchor="middle" x="136" y="164" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="136" y="356" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="136" y="452" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="144" y="20" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="144" y="116" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="144" y="164" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="144" y="356" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="144" y="452" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="152" y="116" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="152" y="164" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="152" y="356" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="152" y="404" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="160" y="164" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="160" y="404" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="168" y="116" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="168" y="164" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="168" y="356" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="168" y="404" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="176" y="116" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="176" y="164" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="176" y="356" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="176" y="404" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="184" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="184" y="164" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="184" y="356" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="184" y="404" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="192" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="192" y="164" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="192" y="356" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="192" y="404" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="200" y="116" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="200" y="212" fill="currentcolor" style="font-size:1em">L</text><text text-anchor="middle" x="200" y="356" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="208" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="208" y="164" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="208" y="212" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="208" y="356" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="208" y="404" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="216" y="164" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="216" y="212" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="216" y="404" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="224" y="116" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="224" y="356" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="224" y="404" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="232" y="116" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="232" y="164" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="232" y="212" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="232" y="308" fill="currentcolor" style="font-size:1em">O</text><text text-anchor="middle" x="232" y="356" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="232" y="404" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="240" y="116" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="240" y="164" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="240" y="212" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="240" y="308" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="240" y="356" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="240" y="404" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="248" y="164" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="248" y="212" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="248" y="308" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="248" y="404" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="256" y="116" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="256" y="212" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="256" y="356" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="264" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="264" y="356" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="264" y="404" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="272" y="116" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="272" y="212" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="272" y="356" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="272" y="404" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="280" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="280" y="212" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="280" y="356" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="288" y="20" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="288" y="116" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="288" y="212" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="288" y="356" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="288" y="404" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="288" y="452" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="296" y="20" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="296" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="296" y="356" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="296" y="404" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="296" y="452" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="304" y="20" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="304" y="116" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="304" y="404" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="304" y="452" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="312" y="20" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="312" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="312" y="356" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="312" y="404" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="312" y="452" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="320" y="20" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="320" y="356" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="320" y="404" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="320" y="452" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="328" y="20" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="328" y="116" fill="currentcolor" style="font-size:1em">U</text><text text-anchor="middle" x="328" y="356" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="328" y="452" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="336" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="336" y="116" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="336" y="356" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="336" y="452" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="344" y="20" fill="currentcolor" style="font-size:1em">z</text><text text-anchor="middle" x="344" y="116" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="344" y="356" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="344" y="452" fill="currentcolor" style="font-size:1em">z</text><text text-anchor="middle" x="352" y="20" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="352" y="356" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="352" y="452" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="360" y="20" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="360" y="452" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="368" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="368" y="452" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="376" y="20" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="376" y="452" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="384" y="20" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="384" y="260" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="384" y="452" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="392" y="260" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="400" y="20" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="400" y="452" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="408" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="408" y="260" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="408" y="452" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="416" y="20" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="416" y="260" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="416" y="452" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="424" y="20" fill="currentcolor" style="font-size:1em">v</text><text text-anchor="middle" x="424" y="260" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="424" y="452" fill="currentcolor" style="font-size:1em">v</text><text text-anchor="middle" x="432" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="432" y="260" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="432" y="452" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="440" y="20" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="440" y="260" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="440" y="452" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="464" y="20" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="464" y="452" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="472" y="20" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="472" y="452" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="480" y="20" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="480" y="452" fill="currentcolor" style="font-size:1em">P</text></g></svg></div><p>Note: IdP = &ldquo;<strong>Id</strong>entity <strong>P</strong>rovider&rdquo;.
Also note that the OAuth 2.0 spec separates the user from the &ldquo;user-agent&rdquo;, which is typically the browser. For my notes I&rsquo;m calling the human user the same thing as their browser.</p><h2 id=authorization-code-flow-with-proof-key-for-code-exchange-pkce>Authorization Code flow with Proof Key for Code Exchange (PKCE)</h2><p>Specified in <a href=https://www.rfc-editor.org/rfc/rfc7636>https://www.rfc-editor.org/rfc/rfc7636</a>
See also: <a href=https://auth0.com/docs/get-started/authentication-and-authorization-flow/authorization-code-flow-with-proof-key-for-code-exchange-pkce>https://auth0.com/docs/get-started/authentication-and-authorization-flow/authorization-code-flow-with-proof-key-for-code-exchange-pkce</a></p><div class="goat svg-container"><svg xmlns="http://www.w3.org/2000/svg" font-family="Menlo,Lucida Console,monospace" viewBox="0 0 624 489"><g transform="translate(8,16)"><path d="M8 0H48" fill="none" stroke="currentcolor"/><path d="M96 0h56" fill="none" stroke="currentcolor"/><path d="M4e2.0H560" fill="none" stroke="currentcolor"/><path d="M584 0h24" fill="none" stroke="currentcolor"/><path d="M8 32H48" fill="none" stroke="currentcolor"/><path d="M96 32h56" fill="none" stroke="currentcolor"/><path d="M4e2 32H560" fill="none" stroke="currentcolor"/><path d="M584 32h24" fill="none" stroke="currentcolor"/><path d="M32 80h80" fill="none" stroke="currentcolor"/><path d="M128 128H472" fill="none" stroke="currentcolor"/><path d="M32 176H472" fill="none" stroke="currentcolor"/><path d="M32 224H584" fill="none" stroke="currentcolor"/><path d="M488 272h96" fill="none" stroke="currentcolor"/><path d="M128 320H472" fill="none" stroke="currentcolor"/><path d="M128 368H472" fill="none" stroke="currentcolor"/><path d="M128 416H472" fill="none" stroke="currentcolor"/><path d="M8 432H48" fill="none" stroke="currentcolor"/><path d="M96 432h56" fill="none" stroke="currentcolor"/><path d="M4e2 432H560" fill="none" stroke="currentcolor"/><path d="M584 432h24" fill="none" stroke="currentcolor"/><path d="M8 464H48" fill="none" stroke="currentcolor"/><path d="M96 464h56" fill="none" stroke="currentcolor"/><path d="M4e2 464H560" fill="none" stroke="currentcolor"/><path d="M584 464h24" fill="none" stroke="currentcolor"/><path d="M8 0V32" fill="none" stroke="currentcolor"/><path d="M8 432v32" fill="none" stroke="currentcolor"/><path d="M24 48V416" fill="none" stroke="currentcolor"/><path d="M48 0V32" fill="none" stroke="currentcolor"/><path d="M48 432v32" fill="none" stroke="currentcolor"/><path d="M96 0V32" fill="none" stroke="currentcolor"/><path d="M96 432v32" fill="none" stroke="currentcolor"/><path d="M120 48V160" fill="none" stroke="currentcolor"/><path d="M120 192v16" fill="none" stroke="currentcolor"/><path d="M120 240V416" fill="none" stroke="currentcolor"/><path d="M152 0V32" fill="none" stroke="currentcolor"/><path d="M152 432v32" fill="none" stroke="currentcolor"/><path d="M4e2.0V32" fill="none" stroke="currentcolor"/><path d="M4e2 432v32" fill="none" stroke="currentcolor"/><path d="M480 48V208" fill="none" stroke="currentcolor"/><path d="M480 240V416" fill="none" stroke="currentcolor"/><path d="M568 0V32" fill="none" stroke="currentcolor"/><path d="M568 432v32" fill="none" stroke="currentcolor"/><path d="M576 0V32" fill="none" stroke="currentcolor"/><path d="M576 432v32" fill="none" stroke="currentcolor"/><path d="M592 48V416" fill="none" stroke="currentcolor"/><path d="M608 0V32" fill="none" stroke="currentcolor"/><path d="M608 432v32" fill="none" stroke="currentcolor"/><path d="M24 40v8" fill="none" stroke="currentcolor"/><path d="M24 416v8" fill="none" stroke="currentcolor"/><path d="M120 40v8" fill="none" stroke="currentcolor"/><path d="M120 160v8" fill="none" stroke="currentcolor"/><path d="M120 184v8" fill="none" stroke="currentcolor"/><path d="M120 208v8" fill="none" stroke="currentcolor"/><path d="M120 232v8" fill="none" stroke="currentcolor"/><path d="M120 416v8" fill="none" stroke="currentcolor"/><path d="M480 40v8" fill="none" stroke="currentcolor"/><path d="M480 208v8" fill="none" stroke="currentcolor"/><path d="M480 232v8" fill="none" stroke="currentcolor"/><path d="M480 416v8" fill="none" stroke="currentcolor"/><path d="M592 40v8" fill="none" stroke="currentcolor"/><path d="M592 416v8" fill="none" stroke="currentcolor"/><polygon points="40.000000,176.000000 28.000000,170.399994 28.000000,181.600006" fill="currentcolor" transform="rotate(180.000000, 32.000000, 176.000000)"/><polygon points="120.000000,80.000000 108.000000,74.400002 108.000000,85.599998" fill="currentcolor" transform="rotate(0.000000, 112.000000, 80.000000)"/><polygon points="136.000000,320.000000 124.000000,314.399994 124.000000,325.600006" fill="currentcolor" transform="rotate(180.000000, 128.000000, 320.000000)"/><polygon points="136.000000,416.000000 124.000000,410.399994 124.000000,421.600006" fill="currentcolor" transform="rotate(180.000000, 128.000000, 416.000000)"/><polygon points="480.000000,128.000000 468.000000,122.400002 468.000000,133.600006" fill="currentcolor" transform="rotate(0.000000, 472.000000, 128.000000)"/><polygon points="480.000000,368.000000 468.000000,362.399994 468.000000,373.600006" fill="currentcolor" transform="rotate(0.000000, 472.000000, 368.000000)"/><polygon points="496.000000,272.000000 484.000000,266.399994 484.000000,277.600006" fill="currentcolor" transform="rotate(180.000000, 488.000000, 272.000000)"/><polygon points="592.000000,224.000000 580.000000,218.399994 580.000000,229.600006" fill="currentcolor" transform="rotate(0.000000, 584.000000, 224.000000)"/><path d="M560 0a16 16 0 0116 16" fill="none" stroke="currentcolor"/><path d="M584 0A16 16 0 00568 16" fill="none" stroke="currentcolor"/><path d="M576 16A16 16 0 01560 32" fill="none" stroke="currentcolor"/><path d="M568 16a16 16 0 0016 16" fill="none" stroke="currentcolor"/><path d="M560 432a16 16 0 0116 16" fill="none" stroke="currentcolor"/><path d="M584 432a16 16 0 00-16 16" fill="none" stroke="currentcolor"/><path d="M576 448a16 16 0 01-16 16" fill="none" stroke="currentcolor"/><path d="M568 448a16 16 0 0016 16" fill="none" stroke="currentcolor"/><text text-anchor="middle" x="16" y="20" fill="currentcolor" style="font-size:1em">U</text><text text-anchor="middle" x="16" y="452" fill="currentcolor" style="font-size:1em">U</text><text text-anchor="middle" x="24" y="20" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="24" y="452" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="32" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="32" y="68" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="32" y="452" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="40" y="20" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="40" y="68" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="40" y="452" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="48" y="68" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="56" y="68" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="64" y="68" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="80" y="68" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="88" y="68" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="96" y="68" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="104" y="20" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="104" y="68" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="104" y="452" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="112" y="20" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="112" y="68" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="112" y="452" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="120" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="120" y="452" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="128" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="128" y="116" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="128" y="452" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="136" y="20" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="136" y="116" fill="currentcolor" style="font-size:1em">O</text><text text-anchor="middle" x="136" y="452" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="144" y="20" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="144" y="116" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="144" y="452" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="152" y="116" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="168" y="116" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="176" y="116" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="184" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="192" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="192" y="164" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="200" y="116" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="200" y="164" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="208" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="208" y="164" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="216" y="164" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="216" y="404" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="224" y="116" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="224" y="164" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="224" y="404" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="232" y="116" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="232" y="164" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="232" y="356" fill="currentcolor" style="font-size:1em">O</text><text text-anchor="middle" x="232" y="404" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="240" y="116" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="240" y="164" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="240" y="356" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="240" y="404" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="248" y="164" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="248" y="356" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="248" y="404" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="256" y="116" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="256" y="356" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="256" y="404" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="264" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="264" y="164" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="264" y="212" fill="currentcolor" style="font-size:1em">L</text><text text-anchor="middle" x="272" y="116" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="272" y="164" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="272" y="212" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="272" y="356" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="272" y="404" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="280" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="280" y="212" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="280" y="356" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="280" y="404" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="288" y="116" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="288" y="164" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="288" y="308" fill="currentcolor" style="font-size:1em">O</text><text text-anchor="middle" x="288" y="356" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="288" y="404" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="296" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="296" y="164" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="296" y="212" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="296" y="308" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="296" y="356" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="296" y="404" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="304" y="116" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="304" y="164" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="304" y="212" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="304" y="308" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="304" y="404" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="312" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="312" y="212" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="312" y="356" fill="currentcolor" style="font-size:1em">v</text><text text-anchor="middle" x="312" y="404" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="320" y="212" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="320" y="356" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="328" y="116" fill="currentcolor" style="font-size:1em">U</text><text text-anchor="middle" x="328" y="356" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="328" y="404" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="336" y="116" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="336" y="212" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="336" y="356" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="336" y="404" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="344" y="116" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="344" y="212" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="344" y="356" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="352" y="116" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="352" y="212" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="352" y="356" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="352" y="404" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="360" y="356" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="360" y="404" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="368" y="116" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="368" y="356" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="368" y="404" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="376" y="116" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="376" y="404" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="384" y="116" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="384" y="404" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="392" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="408" y="20" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="408" y="116" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="408" y="452" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="416" y="20" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="416" y="116" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="416" y="452" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="424" y="20" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="424" y="116" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="424" y="452" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="432" y="20" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="432" y="116" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="432" y="452" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="440" y="20" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="440" y="116" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="440" y="452" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="448" y="20" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="448" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="448" y="452" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="456" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="456" y="116" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="456" y="452" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="464" y="20" fill="currentcolor" style="font-size:1em">z</text><text text-anchor="middle" x="464" y="116" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="464" y="452" fill="currentcolor" style="font-size:1em">z</text><text text-anchor="middle" x="472" y="20" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="472" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="472" y="452" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="480" y="20" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="480" y="452" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="488" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="488" y="452" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="496" y="20" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="496" y="452" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="504" y="20" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="504" y="260" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="504" y="452" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="512" y="260" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="520" y="20" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="520" y="452" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="528" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="528" y="260" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="528" y="452" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="536" y="20" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="536" y="260" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="536" y="452" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="544" y="20" fill="currentcolor" style="font-size:1em">v</text><text text-anchor="middle" x="544" y="260" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="544" y="452" fill="currentcolor" style="font-size:1em">v</text><text text-anchor="middle" x="552" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="552" y="260" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="552" y="452" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="560" y="20" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="560" y="260" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="560" y="452" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="584" y="20" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="584" y="452" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="592" y="20" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="592" y="452" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="600" y="20" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="600" y="452" fill="currentcolor" style="font-size:1em">P</text></g></svg></div><p>Note that the &ldquo;code challenge&rdquo; and &ldquo;code verifier&rdquo; are roughly equivalent to public and private keys, respectively.
However, no specific cryptographic method is specified.
The &ldquo;code challenge&rdquo; might be the hash of the &ldquo;code validator&rdquo;, etc.</p><h3 id=differences-with-vanilla-authorization-code-flow>Differences with vanilla Authorization Code Flow</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl><span class=gd>--- Authorization code flow
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+++ Authorization code flow with PKCE
</span></span></span><span class=line><span class=cl><span class=gi></span><span class=gu>@@ -1,8 +1,8 @@
</span></span></span><span class=line><span class=cl><span class=gu></span> User -&gt; Client                  : click login
</span></span><span class=line><span class=cl><span class=gd>-Client -&gt; Authorization Server  : POST client ID, redirect URI
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+Client -&gt; Authorization Server  : POST client ID, redirect URI, code challenge
</span></span></span><span class=line><span class=cl><span class=gi></span> Authorization Server -&gt; User    : redirect to IdP
</span></span><span class=line><span class=cl> User -&gt; IdP                     : Log into IdP
</span></span><span class=line><span class=cl> IdP -&gt; Authorization Server     : ID token
</span></span><span class=line><span class=cl> Authorization Server -&gt; Client  : OTP
</span></span><span class=line><span class=cl><span class=gd>-Client -&gt; Authorization Server  : OTP, client ID, client secret
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+Client -&gt; Authorization Server  : OTP, code verifier
</span></span></span><span class=line><span class=cl><span class=gi></span> Authorization Server -&gt; Client  : Access token, ID token
</span></span></code></pre></div></article></main><footer><span>© 2022-2022 CC BY-NC-SA 4.0</span></footer></body></html>