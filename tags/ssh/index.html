<!doctype html><html><head><meta charset=utf-8><title>Today I Learned</title><link rel=alternate type=application/rss+xml href=https://skalt.github.io/til/tags/ssh/index.xml title="Today I Learned"><link rel=stylesheet href=https://skalt.github.io/til/critical.min.594b5b7a363d42cef2053010611ce4d2364196b08b295f8bf7199f9406b595e4.css></head><body><header><h1><a href=https://skalt.github.io/til/>Today I Learned</a></h1><nav><a href=https://skalt.github.io/til/tags>tags</a>
<a href=https://skalt.github.io/til/search>search</a>
<a href=https://github.com/skalt/til><img alt=repo title=repo src=https://skalt.github.io/til/icon_gh.512c0dbb601adf88d85cdd317f632f04c74f76183e9dd30c331272d46a59aa13.svg></a>
<a href=https://skalt.github.io/til/tags/ssh/index.xml><img alt=rss title=rss src=https://skalt.github.io/til/icon_rss.2712ea2c7402d63d00f842fbc9dc64b6461012d726f7385aae61b031d1614ebd.svg></a></a></nav></header><main><article><a href=https://skalt.github.io/til/2022/06/07/></a><p>That 1Password has a separate SSH key type! <a href=https://developer.1password.com/docs/ssh/manage-keys/>https://developer.1password.com/docs/ssh/manage-keys/</a></p><p>Also, that <code>make</code> has a <code>MAKEFLAGS</code> variable that can be used in recursive calls to <code>make</code>: see
<a href=https://earthly.dev/blog/make-flags/>https://earthly.dev/blog/make-flags/</a>. This also means you can set <code>-r</code>, which eliminates default rules and file actions.</p></article><article><a href=https://skalt.github.io/til/2022/11/01/></a><p>That you can have too many SSH keys :)</p><p>When I got</p><pre tabindex=0><code>Received disconnect from 256.256.256.256 port 22:2: too many authentication failures
</code></pre><p>I found the following: <a href=https://www.tecmint.com/fix-ssh-too-many-authentication-failures-error/>https://www.tecmint.com/fix-ssh-too-many-authentication-failures-error/</a>
which advocated adding</p><pre tabindex=0><code>Host *
   IdentitiesOnly yes
</code></pre><p>to reduce the number of tried keys</p></article><article><a href=https://skalt.github.io/til/2022/11/10/></a><p>That Bitbucket pipelines has pipeline-specific SSH keys available at the path <code>$BITBUCKET_SSH_KEY_FILE</code>.
See <a href=https://support.atlassian.com/bitbucket-cloud/docs/variables-and-secrets/>https://support.atlassian.com/bitbucket-cloud/docs/variables-and-secrets/</a></p><hr><p>Also, <code>git rev-parse --show-git-dir</code> yields a relative path to the <code>.git</code> dir for that repo.</p></article><article><a href=https://skalt.github.io/til/2023/01/29/></a><p>how to setup passwordless SSH login:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>ssh-copy-id <span style=color:#66d9ef>$(</span>whoami<span style=color:#66d9ef>)</span>@<span style=color:#e6db74>${</span>other_host<span style=color:#e6db74>}</span>
</span></span></code></pre></div><p><a href=https://linuxize.com/post/how-to-setup-passwordless-ssh-login/>https://linuxize.com/post/how-to-setup-passwordless-ssh-login/</a></p><hr><p>how to change a ubuntu machine&rsquo;s computer&rsquo;s hostname:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>echo <span style=color:#e6db74>&#34;new-hostname&#34;</span> &gt; sudo tee /etc/hostname;
</span></span><span style=display:flex><span>sudo sed -i <span style=color:#e6db74>&#39;s/old-hostname/new-hostname/1&#39;</span> /etc/hosts;
</span></span><span style=display:flex><span>sudo hosname <span style=color:#e6db74>&#39;new-hostname&#39;</span>; <span style=color:#75715e># &lt;- for changes to take effect prior to reboot</span>
</span></span></code></pre></div><p>h/t <a href=https://www.howtogeek.com/197934/how-to-change-your-hostname-computer-name-on-ubuntu-linux/>https://www.howtogeek.com/197934/how-to-change-your-hostname-computer-name-on-ubuntu-linux/</a></p></article><article><a href=https://skalt.github.io/til/2023/08/26/></a><p>That sometimes ssh sessions with x-forwarding don&rsquo;t unlock the GNOME &ldquo;login&rdquo; keyring.
This can lead to &ldquo;Cannot create an item in a locked collection&rdquo; errors.
The way to fix the problem is to:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>printf <span style=color:#e6db74>&#34;password: &#34;</span>
</span></span><span style=display:flex><span>read -s password
</span></span><span style=display:flex><span>printf <span style=color:#e6db74>&#34;%s&#34;</span> <span style=color:#e6db74>&#34;</span>$password<span style=color:#e6db74>&#34;</span> | gnome-keyring-daemon --replace --unlock
</span></span></code></pre></div></article></main><footer><span>Â© 2022-2022 CC BY-NC-SA 4.0</span></footer></body></html>