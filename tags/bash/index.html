<!doctype html><html><head><meta charset=utf-8><title>Today I Learned</title><link rel=stylesheet href=https://skalt.github.io/til/critical.min.594b5b7a363d42cef2053010611ce4d2364196b08b295f8bf7199f9406b595e4.css></head><body><header><h1><a href=https://skalt.github.io/til/>Today I Learned</a></h1><nav><a href=https://skalt.github.io/til/tags>tags</a>
<a href=https://skalt.github.io/til/search>search</a>
<a href=https://github.com/skalt/til><img alt=repo title=repo src=https://skalt.github.io/til/icon_gh.512c0dbb601adf88d85cdd317f632f04c74f76183e9dd30c331272d46a59aa13.svg></a>
<a href><img alt=rss title=rss src=https://skalt.github.io/til/icon_rss.2712ea2c7402d63d00f842fbc9dc64b6461012d726f7385aae61b031d1614ebd.svg></a></a></nav></header><main><article><h2><a href=https://skalt.github.io/til/2021/09/15/>2021/09/15</a></h2><p>That you <em>can</em>, technically, write inline comments in bash. Specifically, you have to put the comments in a subshell:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>echo abc <span style=color:#e6db74>`</span><span style=color:#75715e>#put your comment here` \</span>
</span></span><span style=display:flex><span>     def <span style=color:#e6db74>`</span><span style=color:#75715e>#another chance for a comment` \</span>
</span></span><span style=display:flex><span>     xyz etc
</span></span></code></pre></div><p>^ from <a href=https://stackoverflow.com/a/23872003/6571327>https://stackoverflow.com/a/23872003/6571327</a></p></article><article><h2><a href=https://skalt.github.io/til/2021/10/04/>2021/10/04</a></h2><p>that different versions of <code>sort(1)</code> have different sorting presets.
For example, on ubuntu 20.04 vs debian buster, <code>sort</code> will swap the order of how it sorts <code>_</code>s.
These differences can be resolved by passing <code>--unique --dictionary-order --stable</code>.</p><p>Bonus: <code>-h/--human-numeric-sort</code> can sort SI suffixes.</p></article><article><h2><a href=https://skalt.github.io/til/2021/10/12/>2021/10/12</a></h2><p>about the shell <code>until</code> keyword, which is equivalent to <code>while !</code>.</p></article><article><h2><a href=https://skalt.github.io/til/2021/10/28/>2021/10/28</a></h2><p>That you can detect the terminal you&rsquo;re running in (including vscode) by checking the value of <code>"${TERM_PROGRAM:-}"</code>.
The VS Code integrated termial always has a <code>$TERM_PROGRAM</code> of <code>vscode</code>.</p><p>Source: <a href=https://stackoverflow.com/a/59231654/6571327>https://stackoverflow.com/a/59231654/6571327</a></p></article><article><h2><a href=https://skalt.github.io/til/2022/04/11/>2022/04/11</a></h2><p>You can use <code>journalctl -u ${service_name}.service --since ${time:-today}</code> to view the logs of a systemd service: <a href=https://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs>https://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs</a></p></article><article><h2><a href=https://skalt.github.io/til/2022/05/10/>2022/05/10</a></h2><p>That you can call <code>time(1)</code> to time how long a shell command takes, like so:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>; time terraform fmt -write<span style=color:#f92672>=</span>true -recursive .
</span></span><span style=display:flex><span><span style=color:#75715e># terraform fmt -write=true -recursive . 0.10s user 0.23s system 24% cpu 1.377 total</span>
</span></span></code></pre></div></article><article><h2><a href=https://skalt.github.io/til/2022/07/02/>2022/07/02</a></h2><p>That you can unescape newlines with <code>printf "%b" 'escaped\nstring'</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>escaped<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;a\nb&#39;</span>
</span></span><span style=display:flex><span>printf <span style=color:#e6db74>&#34;%b&#34;</span> <span style=color:#e6db74>&#34;</span>$escaped<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># a</span>
</span></span><span style=display:flex><span><span style=color:#75715e># b</span>
</span></span></code></pre></div></article><article><h2><a href=https://skalt.github.io/til/2022/07/29/>2022/07/29</a></h2><p>that in bash and zsh, you can put a newline in a variable like so:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>newline<span style=color:#f92672>=</span><span style=color:#e6db74>$&#39;\n&#39;</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;&gt;&gt;&gt;</span><span style=color:#e6db74>${</span>newline<span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;&lt;&lt;&#34;</span>
</span></span></code></pre></div><p>learned from: <a href=https://stackoverflow.com/a/4456399/6571327>https://stackoverflow.com/a/4456399/6571327</a></p></article><article><h2><a href=https://skalt.github.io/til/2022/08/24/>2022/08/24</a></h2><p>that you can <code>lsblk</code> to list the block devices that the OS knows about without sudo.</p><p>that you can <code>sudo growpart</code> to increase a partition size without restarting the machine.</p></article></main><footer><span>Â© 2022-2022 CC BY-NC-SA 4.0</span></footer></body></html>