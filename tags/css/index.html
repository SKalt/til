<!doctype html><html><head><meta charset=utf-8><title>Today I Learned</title><link rel=alternate type=application/rss+xml href=https://skalt.github.io/til/tags/css/index.xml title="Today I Learned"><link rel=stylesheet href=https://skalt.github.io/til/critical.min.31ad46bcf2679dac23a81f48b7ead9b8f05c1c77fe86709a56fcce62f2ee6107.css><style>@import "https://skalt.github.io/til/syntax-light.min.cf596d35510d6f4d08d1eec88d3d2374b3ba785ef2c68eb605930d31b93576a5.css";@media(prefers-color-scheme:dark){@import "https://skalt.github.io/til/syntax-dark.min.aa68da46c4e748d1db4b8300bf7e282aaa0befd767ada0dcc34734e9ac4e0d51.css"}</style><script src=https://skalt.github.io/til/copy_on_click.3e911aeaa98e4d249246dac78aeae0701f095f2f31738c7f930a823f012b4c2b.js integrity="sha256-PpEa6qmOTSSSRtrHiurgcB8JXy8xc4x/kwqCPwErTCs=" defer></script></head><body><header><h1><a href=https://skalt.github.io/til/>Today I Learned</a></h1><nav><a href=https://skalt.github.io/til/tags>tags</a>
<a href=https://skalt.github.io/til/search>search</a>
<a href=https://github.com/skalt/til><img alt=repo title=repo src=https://skalt.github.io/til/icon_gh.512c0dbb601adf88d85cdd317f632f04c74f76183e9dd30c331272d46a59aa13.svg>
</a><a href=https://skalt.github.io/til/tags/css/index.xml><img alt=rss title=rss src=https://skalt.github.io/til/icon_rss.2712ea2c7402d63d00f842fbc9dc64b6461012d726f7385aae61b031d1614ebd.svg></a></a></nav></header><main><h1>tags</h1><hr><article><h3><a href=https://skalt.github.io/til/2022/01/04/>2022/01/04</a></h3><p>about the css <code>:target</code> selector (matches the element with the id specified by the url document-fragment)
and the svg <code>&lt;view></code> element, which specifies a <code>viewBox</code> and can have an id.</p><p>see <a href=https://css-tricks.com/svg-fragment-identifiers-work/>https://css-tricks.com/svg-fragment-identifiers-work/</a></p></article><hr><article><h3><a href=https://skalt.github.io/til/2022/01/11/>2022/01/11</a></h3><p>that you can pass default values to css variable references, e.g. <code>var(--button-color, pink)</code></p><p>Also,</p><blockquote><p>If the SVG fragment identifier addresses a time segment (e.g., MyDrawing.svg#t=10),then the initial view into the SVG document is established as if no fragment identifier was provided. The rendering of the SVG Document shall be as if the setCurrentTime method on the SVG Document element had been called with the begin time value from the fragment identifier. Additionally, if an end time value is provided in the fragment identifier, the effect is equivalent to calling the pauseAnimations method on the SVG Document when the document time reaches the end time of the fragment identifier.</p><p>&ndash; <a href=https://www.w3.org/TR/SVG/linking.html#LinksIntoSVG>https://www.w3.org/TR/SVG/linking.html#LinksIntoSVG</a></p></blockquote></article><hr><article><h3><a href=https://skalt.github.io/til/2022/07/01/>2022/07/01</a></h3><p>That in Chrome/chromium you can view the actually-rendered font by</p><ol><li>inspecting an element</li><li>view computed properties</li></ol><p>source: <a href=https://stackoverflow.com/a/31254584/6571327>https://stackoverflow.com/a/31254584/6571327</a></p></article><hr><article><h3><a href=https://skalt.github.io/til/2022/07/04/>2022/07/04</a></h3><p>How to subset fonts:</p><pre tabindex=0><code># in a virtualenv
pip install fonttools brotli zopfli
pyftsubset --help
</code></pre><p>see:</p><ul><li><a href=https://fonttools.readthedocs.io/en/latest/subset/index.html#initial-glyph-set-specification>https://fonttools.readthedocs.io/en/latest/subset/index.html#initial-glyph-set-specification</a></li><li><a href=https://markoskon.com/creating-font-subsets/#available-tools>https://markoskon.com/creating-font-subsets/#available-tools</a></li><li><a href=https://clagnut.com/blog/2418/>https://clagnut.com/blog/2418/</a></li><li><a href=https://wakamaifondue.com/beta/>https://wakamaifondue.com/beta/</a></li></ul><p>Also, optical-sized variable fonts look great.</p></article><hr><article><h3><a href=https://skalt.github.io/til/2023/09/22/>2023/09/22</a></h3><p>How to position an element relative to its parent without affecting the flow of other sibling elements:</p><blockquote><p>you&rsquo;re most likely interested in <code>position: absolute</code> which will position an element relative to a container. By default, the container is the browser window, but if a parent element either has <code>position: relative</code> or <code>position: absolute</code> set on it, then it will act as the parent for positioning coordinates for its children.</p><p>&ndash; <a href=https://stackoverflow.com/a/105035/6571327>https://stackoverflow.com/a/105035/6571327</a></p></blockquote><p>See also: <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/position#relative>https://developer.mozilla.org/en-US/docs/Web/CSS/position#relative</a></p></article><hr><article><h3><a href=https://skalt.github.io/til/2024/01/29/>2024/01/29</a></h3><h2 id=typographic-units>Typographic Units</h2><h3 id=absolute-distance>Absolute distance</h3><table><thead><tr><th>Name</th><th style=text-align:center>CSS Unit</th><th>length</th></tr></thead><tbody><tr><td>Picas</td><td style=text-align:center><code>pc</code></td><td>1/6 inch</td></tr><tr><td>Points</td><td style=text-align:center><code>pt</code></td><td>1/72 inches</td></tr></tbody></table><p>&ndash; <a href=https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Values_and_units#absolute_length_units>https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Values_and_units#absolute_length_units</a></p><h3 id=font-relative-units>Font-relative units</h3><ul><li><p><code>em</code>:</p><blockquote><p>In metal type, the point size (and hence the em, from em quadrat) was equal to the line height of the metal body from which the letter rises.
[&mldr;]
In some older texts, but not all, the em is defined, or said to have been defined, as the width of the capital &lsquo;M&rsquo; in the current typeface and point size.
[&mldr;]
In [CSS] the em unit is the height of the font in nominal points or inches.</p><p>In digital type, the relationship of the height of particular letters to the em is arbitrarily set by the typeface designer.
However, as a very rough guideline, an &ldquo;average&rdquo; font might have a cap height of 70% of the em, and an x-height of 48% of the em.</p><p>&ndash; <a href=https://en.wikipedia.org/wiki/Em_(typography)>https://en.wikipedia.org/wiki/Em_(typography)</a></p></blockquote><blockquote><p>Font size of the parent, in the case of typographical properties like font-size, and font size of the element itself, in the case of other properties like width.</p><p>&ndash; <a href=https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Values_and_units#relative_length_units>MDN: CSS relative units</a></p></blockquote><blockquote><p>historically the em unit was derived from the width of a capital &ldquo;M&rdquo; in a given typeface.</p><p>&ndash; <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/font-size#ex>MDN: CSS font-size</a></p></blockquote></li><li><p><code>ex</code>:</p><blockquote><p>x-height of the element&rsquo;s font.</p><p>&ndash; <a href=https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Values_and_units#relative_length_units>MDN: CSS relative units</a></p></blockquote><blockquote><p>when setting the font-size property using ex units, the font-size equals the x-height of the first available font used on the page.</p><p>&ndash; <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/font-size#ex>MDN: CSS font-size</a></p></blockquote></li></ul><h2 id=lines--measurements>Lines & measurements</h2><p><img src=/til/Typography_Line_Terms.svg alt="Typography line terms"></p><h3 id=cap-height>Cap height</h3><blockquote><p>Cap height refers to the height of a typeface’s flat capital letters (such as M or I) measured from the baseline.</p><p>&ndash; <a href=https://m2.material.io/design/typography/understanding-typography.html#type-properties>Material Design: typographic properties reference</a></p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>ascender   _
</span></span><span class=line><span class=cl>cap height _______________
</span></span><span class=line><span class=cl>                 /\     |
</span></span><span class=line><span class=cl>median     _    /  \    |
</span></span><span class=line><span class=cl>               / /\ \   |
</span></span><span class=line><span class=cl>              / ____ \  |
</span></span><span class=line><span class=cl>baseline   _ /_/____\_\_|_
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>descender  _
</span></span></code></pre></div><h3 id=x-height>x-height</h3><blockquote><p>X-height refers to the height of the lowercase x for a typeface, and it indicates how tall or short each glyph in a typeface will be.</p><p>&ndash; <a href=https://m2.material.io/design/typography/understanding-typography.html#type-properties>Material Design: typographic properties</a></p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>ascender   _
</span></span><span class=line><span class=cl>cap height _
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>median     _____________
</span></span><span class=line><span class=cl>               \ \/ / |
</span></span><span class=line><span class=cl>                &gt;  &lt;  |
</span></span><span class=line><span class=cl>baseline   ____/_/\_\_|_
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>descender _
</span></span></code></pre></div><h3 id=descender-height>Descender height</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>ascender   _
</span></span><span class=line><span class=cl>cap height _
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>median     _   _ __
</span></span><span class=line><span class=cl>              | &#39;_ \
</span></span><span class=line><span class=cl>              | |_) |
</span></span><span class=line><span class=cl>baseline______| .__/_____
</span></span><span class=line><span class=cl>              | |      |
</span></span><span class=line><span class=cl>descender_____|_|______|_
</span></span></code></pre></div><h3 id=ascender-height>Ascender height</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>ascender   _________
</span></span><span class=line><span class=cl>cap height _ | |
</span></span><span class=line><span class=cl>             | |
</span></span><span class=line><span class=cl>median     _ | |__
</span></span><span class=line><span class=cl>             | &#39;_ \
</span></span><span class=line><span class=cl>             | |_) |
</span></span><span class=line><span class=cl>baseline   _ |_.__/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>descender  _
</span></span></code></pre></div><h2 id=language-categories>Language categories</h2><blockquote><p>For ease of internationalization, Google has categorized languages into three categories: English-like, tall, and dense.</p><ul><li>Tall: Language scripts that require extra line height to accommodate larger glyphs &mldr; like Arabic, Hindi, Telugu, Thai, and Vietnamese.</li><li>Dense: Language scripts that require extra line height to accommodate larger glyphs but have different metrics from tall scripts.
Includes Chinese, Japanese, and Korean.</li></ul><p>&ndash; <a href=https://m2.material.io/design/typography/language-support.html#language-categories-reference>Material Design: Language categories</a></p></blockquote></article><hr><article><h3><a href=https://skalt.github.io/til/2024/02/14/>2024/02/14</a></h3><p>A more concise way to implement light/dark modes:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>:</span><span class=nd>root</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>color-scheme</span><span class=p>:</span> <span class=n>light</span> <span class=n>dark</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>which saves a few more bytes than my usual</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>:</span><span class=nd>root</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>--fg</span><span class=p>:</span> <span class=mh>#000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--bg</span><span class=p>:</span> <span class=mh>#fff</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>@</span><span class=k>media</span> <span class=o>(</span><span class=nt>prefers-color-scheme</span><span class=o>:</span> <span class=nt>dark</span><span class=o>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=p>:</span><span class=nd>root</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>--fg</span><span class=p>:</span> <span class=mh>#fff</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>--bg</span><span class=p>:</span> <span class=mh>#000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>&ndash; <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/color-scheme#declaring_color_scheme_preferences>https://developer.mozilla.org/en-US/docs/Web/CSS/color-scheme#declaring_color_scheme_preferences</a></p><p>I also learned that CSS has special syntax for systmem-provided colors, notably:</p><ul><li><code>Canvas</code>: the default background color</li><li><code>CanvasText</code>: the default text color</li></ul><p>&ndash; <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/system-color#syntax>https://developer.mozilla.org/en-US/docs/Web/CSS/system-color#syntax</a></p></article><hr><article><h3><a href=https://skalt.github.io/til/2024/02/19/>2024/02/19</a></h3><p>That CSS can adjust any font&rsquo;s aspect value using <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/font-size-adjust><code>font-size-adjust</code></a> &ndash; the ratio between the cap height and the x-height, NOT the aspect ratio.</p></article><hr><article><h3><a href=https://skalt.github.io/til/2024/12/28/>2024/12/28</a></h3><p>That all the grief with css borders shifting the layout can be avoided by using <code>outline</code> instead:</p><blockquote><p>Outline is a line outside of the element&rsquo;s border. Unlike other areas of the box, outlines don&rsquo;t take up space, so they don&rsquo;t affect the layout of the document in any way.</p><p>&ndash; <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/outline#description>https://developer.mozilla.org/en-US/docs/Web/CSS/outline#description</a></p></blockquote></article><hr><article><h3><a href=https://skalt.github.io/til/2025/12/13/>2025/12/13</a></h3><blockquote><p>Since May 2024, this feature works across the latest devices and browser versions.
The light-dark() CSS function enables setting two colors for a property - returning one of the two colors options by detecting if the developer has set a light or dark color scheme or the user has requested light or dark color theme - without needing to encase the theme colors within a prefers-color-scheme media feature query.</p><p>&ndash; <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Values/color_value/light-dark>https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Values/color_value/light-dark</a></p></blockquote><p>Also, you can detecte system-level dark mode (and listen for changes) using</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>const</span> <span class=nx>query</span> <span class=o>=</span> <span class=nb>window</span><span class=p>.</span><span class=nx>matchMedia</span><span class=p>(</span><span class=s2>&#34;(prefers-color-scheme: dark)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>isDark</span>: <span class=kt>boolean</span> <span class=o>=</span> <span class=nx>query</span><span class=p>.</span><span class=nx>matches</span> <span class=err>#</span> <span class=kr>boolean</span>
</span></span><span class=line><span class=cl><span class=nx>query</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;change&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=o>:</span> <span class=kr>boolean</span> <span class=o>=&gt;</span> <span class=nx>e</span><span class=p>.</span><span class=nx>matches</span><span class=p>)</span>
</span></span></code></pre></div><p>(h/t <a href=https://robkendal.co.uk/blog/2024-11-21-detecting-os-level-dark-mode/>https://robkendal.co.uk/blog/2024-11-21-detecting-os-level-dark-mode/</a>)</p></article></main><footer><span>© 2022-2022 CC BY-NC-SA 4.0</span></footer></body></html>